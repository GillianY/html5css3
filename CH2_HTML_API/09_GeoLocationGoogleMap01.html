<!DOCTYPE HTML>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>GeoLocation</title>
<style type="text/css">
#mapCanvas{
	width:500px;
	height:400px;
}
</style>

<script type="text/javascript" src="http://maps.google.com/maps/api/js?sensor=true"></script>
<script type="text/javascript">
var geo;
var map;
var mapMarker;
window.addEventListener("load", init);
function init()
{
	if(geo = getGeoLocation())
	{
		// alert("YES");
		document.getElementById("title").innerHTML = "Geolocation is supported.";
	}
	else
	{
		// alert("NO");
		document.getElementById("title").innerHTML = "Geolocation is not supported.";
	}
	
	// geo.getCurrentPosition(showCoords, errorHandler);
	geo.watchPosition(showMap, errorHandler, {timeout:30000, enableHighAccuracy:true, maximumAge:1000});
}

function getGeoLocation()
{
		if(navigator.geolocation)
		{
			return navigator.geolocation;
		}
		else
		{
			return undefined;
		}
}

function showMap(position)
{
	/*write code here*/
	
}

function errorHandler(error)
{
	switch(error.code)
	{
		case error.TIMEOUT:
			alert("Geolocation Timeout!");
			break;
		case error.POSITION_UNAVAILABLE:
			alert("Geolocation Position Unavailable!");
			break;
		case error.PERMISSION_DENIED:
			alert("Geolocation Permission Denied!");
			break;
		default:
			alert("Geolocation Unknow Error: " + error.code); 
	}
}

</script>

</head>

<body>
	<h1 id="title">GEO Location Sample.</h1>
    <div id="mapCanvas"></div>
</body>
</html>
