<!DOCTYPE HTML>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>History</title>
<style>
a{
	text-decoration:none;
	padding:5px;
}

a:hover{
	background:red;
	color:white;
}
</style>
<script>
//Data JSON

var data = {User1:{name:"anistar", age:18}, 
			User2:{name:"john", age:20}, 
			User3:{name:"mary", age:32}, 
			User4:{name:"kitty", age:45}};

window.addEventListener("load", init);

function init()
{
	if(history.pushState)
	{
		document.getElementById("status").innerHTML="HTML hisTORY api avalible";
		document.getElementById("examples").addEventListener("click",clickHandler)	;
		}
	else
	{	document.getElementById("status").innerHTML="HTML hisTORY api Not avalible";
		
		}
		
	
	
}

//click處理邏輯
function clickHandler(e)
{
	if(e.preventDefault)
	{	e.preventDefault();
	}
	
	if(e.target.nodeName =="A")
	{ 	 var title = e.target.innerHTML();
		var url =e.target.getAttribute("href");
		var  message = data[title].name+"-"+data[title].age;
		document.getElementById("output").innerHTML=message;
 		history.pushState(data[title],title,url);
		
		}	
	
}

function backHistoryHandler(e)
{
}
	
	function forwardHistoryHandler(e)
	{
		
	}

</script>
</head>

<body>

<article>
  <p id="status">HTML5 History API not supported</p>
  <p>Use the back and forward buttons in your browser to navigate the history.</p>
  <ul id="examples">
    <li><a href="first">User1</a></li>
    <li><a href="second">User2</a></li>
    <li><a href="third">User3</a></li>
    <li><a href="fourth">User4</a></li>
  </ul>
  <div id="output"></div>
  <input type="button" id="backButton" value="BACK"/>
   <input type="button" id="forwardButton" value="FORWARD"/>
</article>

</body>
</html>
