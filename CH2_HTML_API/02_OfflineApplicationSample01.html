<!DOCTYPE HTML>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>Offline Application</title>
    <style type="text/css">
        .offline {
            padding: 5px;
            background: red;
            color: white;
        }

        .online {
            padding: 5px;
            background: green;
            color: white;
        }
    </style>
    <script>
        //init事件註冊
        window.addEventListener("load", init);

        function init() {
            //檢查有無支援navigator.onLine
			
			if(navigator.onLine != undefined)
			{
					document.getElementById("check").addEventListener("click",checkHandler);
			}else
			{  alert( "navigatoronLine not support");
				}

        }

        //偵測連線狀態
        function checkHandler() {
			if(navigator.onLine)
			{
					document.getElementById("status").className="online";
					document.getElementById("status").innerHTML="Online!!";		
			}else
			{
				
					document.getElementById("status").className="offline";
					document.getElementById("status").innerHTML="Offline!!";	
				}
        }

    </script>
</head>
<body>

<span id="status" class="offline">Unknow</span>
<button id="check">Check Connection</button>

</body>
</html>
